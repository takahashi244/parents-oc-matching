---
doc_type: adr
id: ADR-001
status: Accepted
owner: Taka244（PM）
decision_date: 2025-09-15
context_timezone: Asia/Tokyo
---

# タイトル
MVP実装スタックの確定（Laravel + Docker + Blade + Tailwind + **MySQL 8.0**）

# 決定（Decision）
- **バックエンド/フルスタック**：**Laravel 11**
- **実行環境**：**Docker（Laravel Sail）**
- **テンプレート/UI**：**Blade + Tailwind CSS**（軽量インタラクションは **Alpine.js**、必要時に **Livewire** を選択）
- **認証**：**Laravel Breeze**（Email/Password、将来：LINE Login等の拡張余地）
- **DB**：**MySQL 8.0**（開発/本番）。JSON型で配列/オブジェクトを保持。＊開発簡易用途ではSQLiteも可。
- **計測**：当面は**サーバーサイドのevent_logsテーブル**に記録（後でPostHog/Mixpanelへ切替）。
- **Feature Flag**：.env＋Config（`search_enabled` ほか）で運用、将来はGrowthBook等に移行。

# 背景（Context）
- PMは**非エンジニア**。既知のスキル：HTML/CSS/JS、**Tailwind**は手本があれば対応可。**Laravelで作りたい**希望あり。
- MVPは検索を出さず、**診断→マッチ→OC→内見メモ→レビュー**の循環に集中。スピードと変更容易性が重要。

# 根拠（Rationale / Decision Drivers）
1. **学習コストが低い**（Blade/Tailwindの組み合わせがシンプル）
2. **一体型で素早くMVP到達**（API分離は後からでOK）
3. **Dockerで環境差異を吸収**（SailのデフォルトMySQLが扱いやすい）
4. **MySQL 8.0のJSON/全文検索**を将来の検索強化に活用可
5. 日本語資料とコミュニティが豊富（Laravel/Tailwind/MySQL）

# トレードオフ / 代替案
- **PostgreSQL 15**：JSONBや機能は豊富だが、Sailの標準がMySQLであること、PMの学習コストを考慮し今回は見送り。
- **Laravel API + SPA**（React/Vue）：将来の拡張に良いが、MVP速度が落ちる。→**将来の分離前提**で今はBlade。

# 影響（Consequences）
- UIはBlade中心で実装。必要に応じLivewireで段階的にリッチ化。
- 計測はevent_logsテーブル→後でETL or ベンダーSDKに乗り換え。
- ERD/マイグレーションは**Eloquent前提**で設計。

# 実装に向けたToDo（このADRから派生）
- [ ] **ERD/スキーマ確定**（User/InterestProfile/School/Department/OCEvent/Review/Match/EventLog）
- [ ] **マイグレーション雛形**の作成（Laravel Migrations）
- [ ] **API契約（OpenAPI）** `/interests` `/match` `/oc/{id}` `/oc/{id}/memo/parent` `/oc/{id}/memo/child` `/share/{token}` ほか
- [ ] **SETUP.md**（Sail起動、Vite/Tailwind、.envひな形）

# リスクと対応
- Livewire依存の増加 → **まずはBlade/Alpine**で実装し、必要箇所だけLivewire。
- DB移行（MySQL→別） → Eloquent層で吸収、DDLは移行ツール（Laravel schema dump）活用。

# 変更履歴
- v1.1（2025-09-15）DBを**MySQL 8.0**に変更（Sail標準・学習コスト低減のため）。
- v1.0（2025-09-15）初版・PostgreSQL 15で作成。
